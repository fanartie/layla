(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{134:function(e,t){e.exports={currentCountry:"ca"}},193:function(e,t,a){"use strict";a.r(t);a(0);var r=a(32),n=a.n(r),i=(a(156),a(6)),s=a(202),c=a(67),d=a(140),j=a(134),u=a.n(j),o=a(135),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setCountry":return Object(o.a)(e,(function(e){e.currentCountry=(t.countryCode||"").toLowerCase()}));default:return e}},b=Object(d.a)(l),m=a(2),g=[{key:"ca",value:"ca",flag:"ca",text:"Canada"},{key:"us",value:"us",flag:"us",text:"United State"},{key:"gb",value:"gb",flag:"gb",text:"United Kingdom"},{key:"it",value:"it",flag:"it",text:"Italy"},{key:"jp",value:"jp",flag:"jp",text:"Japan"},{key:"tw",value:"tw",flag:"tw",text:"Taiwan"}];var h=function(){var e=Object(c.b)();return Object(m.jsx)(s.a,{defaultValue:b.getState().currentCountry,selection:!0,options:g,placeholder:"Select Country",onChange:function(t,a){e({type:"setCountry",countryCode:a.value})}})},x=a(206),O=function(e){return Object(m.jsx)(x.a,{padded:!0,style:{margin:"40px",minHeight:"600px"},children:e.children})},p=a(23),f=a(53),_=a.n(f),v=a(101),y=a(137),k=a.n(y),C=function(){var e=Object(v.a)(_.a.mark((function e(t){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get(t.url,{params:t.data});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=a(29),E=a.n(w),L=function(){var e,t=Object(c.c)((function(e){return e.currentCountry}))||"",a=Object(p.a)({url:E.a.musicEndpoint,data:{apiName:"chart.artists.get",country:t.toLowerCase(),page:1,page_size:10}},C),r=a.data,n=a.error;return r&&r.message&&r.message.body&&r.message.body.artist_list&&(e=r.message.body.artist_list),{artistList:e,isLoading:!n&&!e,isError:n}},I=a(203),M=a(138),G=a.n(M),S=function(){var e=Object(v.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){var a="https://react.semantic-ui.com/images/wireframe/image.png";try{G()(t,(function(t,r){t||(a=r),e(a)}))}catch(r){e(a)}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(e){return{src:Object(p.a)(e,S).data}},N=function(e){var t=Object(i.f)(),a=e.artist,r=H(a.artist_name).src||"https://react.semantic-ui.com/images/wireframe/image.png",n={minHeight:"120px"};return e.master||(n.cursor="pointer"),Object(m.jsxs)(I.a,{onClick:function(){e.master||t("/artist/"+a.artist_id)},style:n,children:[Object(m.jsx)(I.a.Image,{circular:!0,size:"tiny",src:r,style:{height:"80px"}}),Object(m.jsxs)(I.a.Content,{children:[Object(m.jsx)(I.a.Header,{children:a.artist_name}),a.artist_country.length>0&&Object(m.jsxs)(I.a.Meta,{children:[Object(m.jsx)("span",{children:"Country:"}),Object(m.jsx)("span",{children:a.artist_country})]}),"0000-00-00"!==a.begin_date&&Object(m.jsxs)(I.a.Meta,{children:[Object(m.jsx)("span",{children:"Since:"}),Object(m.jsx)("span",{children:a.begin_date})]}),Object(m.jsxs)(I.a.Meta,{children:[Object(m.jsx)("span",{children:"Rating:"}),Object(m.jsx)("span",{children:a.artist_rating})]})]})]},a.artist_id)};var T=function(){return Object(m.jsxs)(O,{children:[Object(m.jsx)(h,{}),Object(m.jsx)(z,{})]})};function z(){var e=L(),t=e.artistList,a=e.isLoading;return e.isError?Object(m.jsx)("div",{children:"failed to load artist list"}):a?Object(m.jsx)("div",{children:"loading artist list..."}):(console.log(t),Object(m.jsx)(I.a.Group,{divided:!0,children:t.map((function(e){var t=e.artist;return Object(m.jsx)(N,{artist:t},t.artist_id)}))}))}var F=function(){var e,t=Object(i.g)(),a=Object(p.a)({url:E.a.musicEndpoint,data:{apiName:"artist.get",artist_id:t.artistId}},C),r=a.data,n=a.error;return r&&r.message&&r.message.body&&r.message.body.artist&&(e=r.message.body.artist),{artist:e,isLoading:!n&&!e,isError:n}},P=function(){var e,t=Object(i.g)(),a=Object(p.a)({url:E.a.musicEndpoint,data:{apiName:"artist.albums.get",artist_id:t.artistId}},C),r=a.data,n=a.error;return r&&r.message&&r.message.body&&r.message.body.album_list&&(e=r.message.body.album_list),console.log(e),{albumList:e,isLoading:!n&&!e,isError:n}},R=a(103),D=function(e){var t=Object(i.f)(),a=e.album,r=a.album_id,n=e.artistId,s=H(a.album_name).src||"https://react.semantic-ui.com/images/wireframe/image.png",c={};e.master||(c={cursor:"pointer"});var d=[];return a.primary_genres&&a.primary_genres.music_genre_list&&a.primary_genres.music_genre_list.forEach((function(e){e.music_genre&&e.music_genre.music_genre_name&&d.push(e.music_genre.music_genre_name)})),Object(m.jsxs)(I.a,{onClick:function(){e.master||t("/album/"+n+"/"+r)},style:c,children:[Object(m.jsx)(I.a.Image,{size:"tiny",src:s}),Object(m.jsxs)(I.a.Content,{children:[Object(m.jsx)(I.a.Header,{children:a.album_name}),Object(m.jsxs)(I.a.Meta,{children:[Object(m.jsx)("span",{children:"Genres:"}),Object(m.jsx)("span",{children:"later"})]}),Object(m.jsxs)(I.a.Meta,{children:[Object(m.jsx)("span",{children:"Release:"}),Object(m.jsx)("span",{children:a.album_release_date})]}),Object(m.jsxs)(I.a.Meta,{children:[Object(m.jsx)("span",{children:"Rating:"}),Object(m.jsx)("span",{children:a.album_rating})]}),a.album_copyright&&Object(m.jsxs)(I.a.Meta,{children:[Object(m.jsx)("span",{children:"Copyright:"}),Object(m.jsx)("span",{children:a.album_copyright})]}),d.length>0&&Object(m.jsx)(I.a.Extra,{children:d.map((function(e){return Object(m.jsx)(R.a,{children:e},(new Date).getTime()+Math.random(10))}))})]})]},a.album_id)};var J=function(){return Object(m.jsxs)(O,{children:[Object(m.jsx)(B,{}),Object(m.jsx)(U,{})]})},B=function(){var e=F(),t=e.artist,a=e.isLoading;return e.isError?Object(m.jsx)("div",{children:"failed to load artist info"}):a?Object(m.jsx)("div",{children:"loading artist info..."}):Object(m.jsx)(x.a,{children:Object(m.jsx)(I.a.Group,{divided:!0,children:Object(m.jsx)(N,{artist:t,master:!0})})})},U=function(){var e=Object(i.g)(),t=P(),a=t.albumList,r=t.isLoading;return t.isError?Object(m.jsx)("div",{children:"failed to load album list"}):r?Object(m.jsx)("div",{children:"loading album list..."}):Object(m.jsx)(I.a.Group,{divided:!0,children:a.map((function(t){var a=t.album;return Object(m.jsx)(D,{album:a,artistId:e.artistId},a.album_id)}))})},q=a(204),K=a(78),V=function(){var e,t=Object(i.g)(),a=Object(p.a)({url:E.a.musicEndpoint,data:{apiName:"album.get",album_id:t.albumId}},C),r=a.data,n=a.error;return r&&r.message&&r.message.body&&r.message.body.album&&(e=r.message.body.album),{album:e,isLoading:!n&&!e,isError:n}},A=function(){var e,t=Object(i.g)(),a=Object(p.a)({url:E.a.musicEndpoint,data:{apiName:"album.tracks.get",album_id:t.albumId}},C),r=a.data,n=a.error;return r&&r.message&&r.message.body&&r.message.body.track_list&&(e=r.message.body.track_list),console.log(e),{trackList:e,isLoading:!n&&!e,isError:n}};var Q=function(){return Object(m.jsxs)(O,{children:[Object(m.jsx)(W,{}),Object(m.jsx)(X,{}),Object(m.jsx)(Y,{})]})},W=function(){var e=F(),t=e.artist,a=e.isLoading;return e.isError?Object(m.jsx)("div",{children:"failed to load artist info"}):a?Object(m.jsx)("div",{children:"loading artist info..."}):Object(m.jsx)(x.a,{children:Object(m.jsx)(I.a.Group,{divided:!0,children:Object(m.jsx)(N,{artist:t,master:!0})})})},X=function(){var e=V(),t=e.album,a=e.isLoading;return e.isError?Object(m.jsx)("div",{children:"failed to load album info"}):a?Object(m.jsx)("div",{children:"loading album info..."}):Object(m.jsx)(x.a,{children:Object(m.jsx)(I.a.Group,{divided:!0,children:Object(m.jsx)(D,{album:t,master:!0})})})},Y=function(){var e=A(),t=e.trackList,a=e.isLoading;return e.isError?Object(m.jsx)("div",{children:"failed to load track list"}):a?Object(m.jsx)("div",{children:"loading track list..."}):Object(m.jsx)(I.a.Group,{divided:!0,children:t.map((function(e,t){var a=e.track;return Object(m.jsx)(Z,{track:a,idx:t},a.track_id)}))})},Z=function(e){var t=e.track,a=[];t.primary_genres&&t.primary_genres.music_genre_list&&t.primary_genres.music_genre_list.forEach((function(e){e.music_genre&&e.music_genre.music_genre_name&&a.push(e.music_genre.music_genre_name)}));return Object(m.jsx)(I.a,{children:Object(m.jsxs)(I.a.Content,{children:[Object(m.jsxs)(I.a.Header,{children:[e.idx+1,". ",t.track_name]}),Object(m.jsxs)(I.a.Meta,{children:[Object(m.jsx)("span",{children:"Rating:"}),Object(m.jsx)("span",{children:t.track_rating}),Object(m.jsx)("span",{children:"Length:"}),Object(m.jsx)("span",{children:t.track_length})]}),a.length>0&&Object(m.jsx)(I.a.Extra,{children:a.map((function(e){return Object(m.jsx)(R.a,{children:e},(new Date).getTime()+Math.random(10))}))}),Object(m.jsx)(I.a.Extra,{children:Object(m.jsxs)(q.a,{onClick:function(){window.open(t.track_share_url,"_blank")},primary:!0,floated:"right",children:["Share",Object(m.jsx)(K.a,{name:"right chevron"})]})})]})})};var $=function(){return Object(m.jsxs)(i.c,{children:[Object(m.jsx)(i.a,{path:"/",element:Object(m.jsx)(T,{})}),Object(m.jsx)(i.a,{path:"/artist/:artistId",element:Object(m.jsx)(J,{})}),Object(m.jsx)(i.a,{path:"/album/:artistId/:albumId",element:Object(m.jsx)(Q,{})})]})},ee=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,207)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),r(e),n(e),i(e),s(e)}))},te=a(28);n.a.render(Object(m.jsx)(c.a,{store:b,children:Object(m.jsx)(te.a,{basename:"/layla",children:Object(m.jsx)($,{})})}),document.getElementById("root")),ee()},29:function(e,t){e.exports={musicEndpoint:"https://vr8rq1n7v9.execute-api.us-west-2.amazonaws.com/Prod/"}}},[[193,1,2]]]);
//# sourceMappingURL=main.3eec8f1d.chunk.js.map